<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>B√≠ch Di·ªáu üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:ital,wght@0,400;1,500&display=swap" rel="stylesheet">

<style>
html, body {
    margin: 0;
    padding: 0;
    background: black;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

/* üåå Background */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background:
        linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.85)),
        url("background.jpg") center / cover no-repeat;
    z-index: 0;
}

.box {
    position: relative;
    width: 100vw;
    height: 100vh;
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
}

/* ‚ù§Ô∏è Canvas */
canvas {
    position: absolute;
    width: 100vw;
    height: 100vh;
    z-index: 1;
}

/* üñºÔ∏è Avatar */
.love-img {
    position: absolute;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    left: 50%;
    top: 38%;
    transform: translate(-50%, -50%);
    z-index: 5;
    box-shadow: 0 0 30px #ff4da6, 0 0 60px #ff1a8c;
    animation: heartbeat 1.3s infinite;
}

/* üíì Name */
.name {
    position: absolute;
    left: 50%;
    top: 38%;
    transform: translate(-50%, 95px);
    font-family: 'Great Vibes', cursive;
    font-size: 40px;
    color: #ff5ca8;
    z-index: 6;
    text-shadow: 0 0 20px #ff5ca8;
}

/* üí¨ Text */
.info-wrap {
    position: absolute;
    left: 50%;
    top: 38%;
    transform: translate(-50%, 145px);
    display: flex;
    gap: 22px;
    z-index: 6;
    color: #ffd1e8;
    font-family: 'Playfair Display', serif;
    font-size: 14px;
    text-align: center;
}

.info-box {
    min-width: 140px;
    line-height: 1.45;
}

/* üéµ */
.music-btn {
    position: fixed;
    bottom: calc(20px + env(safe-area-inset-bottom));
    right: 20px;
    z-index: 10;
    background: rgba(255,92,164,0.85);
    border: none;
    border-radius: 50%;
    padding: 12px;
    font-size: 20px;
    box-shadow: 0 0 20px #ff4da6;
}

@keyframes heartbeat {
    0% { transform: translate(-50%, -50%) scale(1); }
    30% { transform: translate(-50%, -50%) scale(0.85); }
    60% { transform: translate(-50%, -50%) scale(1.15); }
    100% { transform: translate(-50%, -50%) scale(1); }
}
</style>
</head>

<body>

<div class="box">
    <canvas id="pinkboard"></canvas>

    <img src="love.jpg" class="love-img" id="avatar">

    <div class="name">B√≠ch Di·ªáu</div>

    <div class="info-wrap">
        <div class="info-box">
            I Love You üíñ<br>
            Every beat of my heart<br>
            is for you üíï
        </div>

        <div class="info-box" id="counter"></div>
    </div>

    <button class="music-btn" onclick="toggleMusic()">üéµ</button>
</div>

<audio id="bg-music" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
/* üéµ Music */
const music = document.getElementById("bg-music");
let playing = false;
function toggleMusic(){
    playing ? music.pause() : music.play();
    playing = !playing;
}
document.body.addEventListener("click",()=>{
    if(!playing){ music.play(); playing=true; }
},{once:true});

/* üíç Time counter */
const startDate = new Date(2025,6,13,0,0,0);
const counter = document.getElementById("counter");

function diffDate(from, to){
    let y = to.getFullYear()-from.getFullYear();
    let m = to.getMonth()-from.getMonth();
    let d = to.getDate()-from.getDate();
    if(d<0){ m--; d+=new Date(to.getFullYear(),to.getMonth(),0).getDate(); }
    if(m<0){ y--; m+=12; }
    const base = new Date(from.getFullYear()+y,from.getMonth()+m,from.getDate());
    let ms = to-base;
    return {
        y,m,d,
        h:Math.floor(ms/3600000),
        min:Math.floor(ms%3600000/60000),
        s:Math.floor(ms%60000/1000)
    }
}

setInterval(()=>{
    const t = diffDate(startDate,new Date());
    let ymd=[];
    if(t.y>0) ymd.push(`${t.y} nƒÉm`);
    if(t.m>0) ymd.push(`${t.m} th√°ng`);
    ymd.push(`${t.d} ng√†y`);
    counter.innerHTML = `
        B√™n nhau üíç<br>
        ${ymd.join(" ")}<br>
        ${t.h} gi·ªù ${t.min} ph√∫t ${t.s} gi√¢y üíñ
    `;
},1000);
</script>

<!-- ‚ù§Ô∏è HEART PARTICLE ‚Äì B√ÅM THEO AVATAR -->
<script>
const canvas = document.getElementById("pinkboard");
const ctx = canvas.getContext("2d");
const avatar = document.getElementById("avatar");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

function heartPoint(t){
    return {
        x:160*Math.pow(Math.sin(t),3),
        y:130*Math.cos(t)-50*Math.cos(2*t)-20*Math.cos(3*t)-10*Math.cos(4*t)
    };
}

function draw(){
    requestAnimationFrame(draw);
    ctx.clearRect(0,0,canvas.width,canvas.height);

    const r = avatar.getBoundingClientRect();
    const cx = r.left + r.width/2;
    const cy = r.top + r.height/2;

    for(let i=0;i<180;i++){
        const t = Math.random()*Math.PI*2;
        const p = heartPoint(t);
        ctx.fillStyle="rgba(255,80,160,0.8)";
        ctx.beginPath();
        ctx.arc(cx+p.x/5, cy-p.y/5, 2, 0, Math.PI*2);
        ctx.fill();
    }
}
draw();

canvas.addEventListener("click",(e)=>{
    const x=e.clientX,y=e.clientY;
    for(let i=0;i<260;i++){
        ctx.fillStyle="rgba(255,80,160,0.9)";
        ctx.beginPath();
        ctx.arc(
            x+Math.cos(i)*Math.random()*140,
            y+Math.sin(i)*Math.random()*140,
            2,0,Math.PI*2);
        ctx.fill();
    }
});
</script>

</body>
</html>
