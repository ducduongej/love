<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>BÃ­ch Diá»‡u ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:ital,wght@0,400;1,500&display=swap" rel="stylesheet">

<style>
html, body {
    margin: 0;
    padding: 0;
    background: black;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

/* ğŸŒŒ BACKGROUND */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background:
        linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.85)),
        url("background.jpg") center / cover no-repeat;
    z-index: 0;
}

.box {
    position: relative;
    width: 100vw;
    height: calc(var(--vh, 1vh) * 100);
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
}

/* â¤ï¸ CANVAS */
canvas {
    position: absolute;
    width: 100vw;
    height: 100vh;
    z-index: 1;
}

/* ğŸ–¼ï¸ AVATAR */
.love-img {
    position: absolute;
    width: 110px;
    height: 110px;
    border-radius: 50%;
    object-fit: cover;
    left: 50%;
    top: 38%;
    transform: translate(-50%, -50%);
    z-index: 5;
    box-shadow: 0 0 30px #ff4da6, 0 0 60px #ff1a8c;
    animation: heartbeat 1.3s infinite;
}

/* ğŸ’“ NAME */
.name {
    position: absolute;
    top: 60%;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Great Vibes', cursive;
    font-size: 46px;
    color: #ff5ca8;
    z-index: 6;
    text-shadow: 0 0 20px #ff5ca8;
}

/* ğŸ’¬ INFO */
.info-wrap {
    position: absolute;
    top: 64%;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 22px;
    z-index: 6;
    color: #ffd1e8;
    font-family: 'Playfair Display', serif;
    font-size: 15px;
    text-align: center;
}

.info-box {
    min-width: 140px;
    line-height: 1.45;
}

/* ğŸµ */
.music-btn {
    position: fixed;
    bottom: calc(20px + env(safe-area-inset-bottom));
    right: 20px;
    z-index: 10;
    background: rgba(255,92,164,0.85);
    border: none;
    border-radius: 50%;
    padding: 12px;
    font-size: 20px;
    cursor: pointer;
    box-shadow: 0 0 20px #ff4da6;
}

/* ğŸ’“ ANIMATION */
@keyframes heartbeat {
    0% { transform: translate(-50%, -50%) scale(1); }
    30% { transform: translate(-50%, -50%) scale(0.85); }
    60% { transform: translate(-50%, -50%) scale(1.15); }
    100% { transform: translate(-50%, -50%) scale(1); }
}

/* ğŸ“± iPHONE */
@media (max-width: 430px) {
    .love-img { width: 90px; height: 90px; }
    .name { font-size: 38px; }
    .info-wrap { font-size: 14px; gap: 16px; top: 66%; }
}
</style>
</head>

<body>

<div class="box">
    <canvas id="pinkboard"></canvas>

    <img src="love.jpg" class="love-img">

    <div class="name">BÃ­ch Diá»‡u</div>

    <div class="info-wrap">
        <div class="info-box">
            I Love You ğŸ’–<br>
            Every beat of my heart<br>
            is for you ğŸ’•
        </div>

        <div class="info-box" id="counter">
            BÃªn nhau ğŸ’
        </div>
    </div>

    <button class="music-btn" onclick="toggleMusic()">ğŸµ</button>
</div>

<audio id="bg-music" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
/* ğŸ“± FIX iOS HEIGHT */
function fixIOSHeight() {
  document.documentElement.style.setProperty('--vh', window.innerHeight * 0.01 + 'px');
}
fixIOSHeight();
window.addEventListener('resize', fixIOSHeight);

/* ğŸ’ Äáº¾M THá»œI GIAN CHÃNH XÃC */
const startDate = new Date(2025, 6, 13, 0, 0, 0);
const counter = document.getElementById("counter");

function diffDate(from, to) {
    let years = to.getFullYear() - from.getFullYear();
    let months = to.getMonth() - from.getMonth();
    let days = to.getDate() - from.getDate();

    if (days < 0) {
        months--;
        const prevMonth = new Date(to.getFullYear(), to.getMonth(), 0);
        days += prevMonth.getDate();
    }

    if (months < 0) {
        years--;
        months += 12;
    }

    const anchor = new Date(
        from.getFullYear() + years,
        from.getMonth() + months,
        from.getDate()
    );

    let diffMs = to - anchor;
    let hours = Math.floor(diffMs / 3600000);
    let minutes = Math.floor((diffMs % 3600000) / 60000);
    let seconds = Math.floor((diffMs % 60000) / 1000);

    return { years, months, days, hours, minutes, seconds };
}

function updateCounter() {
    const now = new Date();
    const t = diffDate(startDate, now);

    counter.innerHTML = `
        BÃªn nhau ğŸ’<br>
        ${t.years} nÄƒm ${t.months} thÃ¡ng<br>
        ${t.days} ngÃ y ${t.hours} giá»<br>
        ${t.minutes} phÃºt ${t.seconds} giÃ¢y ğŸ’–
    `;
}

setInterval(updateCounter, 1000);
updateCounter();

/* ğŸµ MUSIC */
const music = document.getElementById("bg-music");
let isPlaying = false;
function toggleMusic() {
    isPlaying ? music.pause() : music.play();
    isPlaying = !isPlaying;
}
document.body.addEventListener("click", () => {
    if (!isPlaying) {
        music.play();
        isPlaying = true;
    }
}, { once: true });
</script>

<!-- â¤ï¸ HEART PARTICLE + CLICK EXPLOSION -->
<script>
var settings={particles:{
length: window.innerWidth < 500 ? 1200 : 2000,
duration:2,velocity:100,effect:-1.3,size:13}};

function Point(x,y){this.x=x||0;this.y=y||0;}
Point.prototype.clone=function(){return new Point(this.x,this.y)};
Point.prototype.length=function(l){if(l===undefined)return Math.sqrt(this.x*this.x+this.y*this.y);
this.normalize();this.x*=l;this.y*=l;return this};
Point.prototype.normalize=function(){var l=this.length();this.x/=l;this.y/=l;return this};

function Particle(){this.position=new Point();this.velocity=new Point();this.acceleration=new Point();this.age=0;}
Particle.prototype.initialize=function(x,y,dx,dy){
this.position.x=x;this.position.y=y;
this.velocity.x=dx;this.velocity.y=dy;
this.acceleration.x=dx*settings.particles.effect;
this.acceleration.y=dy*settings.particles.effect;this.age=0;}
Particle.prototype.update=function(dt){
this.position.x+=this.velocity.x*dt;
this.position.y+=this.velocity.y*dt;
this.velocity.x+=this.acceleration.x*dt;
this.velocity.y+=this.acceleration.y*dt;this.age+=dt;}
Particle.prototype.draw=function(ctx,img){
function ease(t){return(--t)*t*t+1}
var s=img.width*ease(this.age/settings.particles.duration);
ctx.globalAlpha=1-this.age/settings.particles.duration;
ctx.drawImage(img,this.position.x-s/2,this.position.y-s/2,s,s);}

function ParticlePool(l){
this.particles=new Array(l);
for(var i=0;i<l;i++)this.particles[i]=new Particle();
this.firstActive=0;this.firstFree=0;this.duration=settings.particles.duration;
}
ParticlePool.prototype.add=function(x,y,dx,dy){
this.particles[this.firstFree].initialize(x,y,dx,dy);
this.firstFree=(this.firstFree+1)%this.particles.length;
if(this.firstActive===this.firstFree)
this.firstActive=(this.firstActive+1)%this.particles.length;
}
ParticlePool.prototype.update=function(dt){
var i;
if(this.firstActive<this.firstFree){
for(i=this.firstActive;i<this.firstFree;i++)this.particles[i].update(dt);}
else{
for(i=this.firstActive;i<this.particles.length;i++)this.particles[i].update(dt);
for(i=0;i<this.firstFree;i++)this.particles[i].update(dt);}
while(this.particles[this.firstActive].age>=this.duration&&this.firstActive!==this.firstFree)
this.firstActive=(this.firstActive+1)%this.particles.length;
}
ParticlePool.prototype.draw=function(ctx,img){
if(this.firstActive<this.firstFree){
for(var i=this.firstActive;i<this.firstFree;i++)this.particles[i].draw(ctx,img);}
else{
for(i=this.firstActive;i<this.particles.length;i++)this.particles[i].draw(ctx,img);
for(i=0;i<this.firstFree;i++)this.particles[i].draw(ctx,img);}
};

(function(canvas){
var ctx=canvas.getContext("2d");
var particles=new ParticlePool(settings.particles.length);
var rate=settings.particles.length/settings.particles.duration;
var time;

function pointOnHeart(t){
return new Point(
160*Math.pow(Math.sin(t),3),
130*Math.cos(t)-50*Math.cos(2*t)-20*Math.cos(3*t)-10*Math.cos(4*t)+25);
}

var image=(function(){
var c=document.createElement("canvas");
var x=c.getContext("2d");
c.width=settings.particles.size;
c.height=settings.particles.size;
x.fillStyle="#ff4da6";
x.beginPath();
var t=-Math.PI,p=pointOnHeart(t);
x.moveTo(c.width/2+p.x/350*c.width,c.height/2-p.y/350*c.height);
while(t<Math.PI){
t+=0.01;p=pointOnHeart(t);
x.lineTo(c.width/2+p.x/350*c.width,c.height/2-p.y/350*c.height);}
x.closePath();x.fill();
var img=new Image();img.src=c.toDataURL();return img;
})();

function render(){
requestAnimationFrame(render);
var newTime=Date.now()/1000;
var dt=newTime-(time||newTime);time=newTime;
ctx.clearRect(0,0,canvas.width,canvas.height);
for(var i=0;i<rate*dt;i++){
var pos=pointOnHeart(Math.PI-2*Math.PI*Math.random());
var dir=pos.clone().length(settings.particles.velocity);
particles.add(canvas.width/2+pos.x,canvas.height/2-pos.y-80,dir.x,-dir.y);
}
particles.update(dt);particles.draw(ctx,image);
}

canvas.addEventListener("click",function(e){
const r=canvas.getBoundingClientRect();
const x=e.clientX-r.left;
const y=e.clientY-r.top;
for(let i=0;i<200;i++){
const a=Math.random()*Math.PI*2;
const s=150+Math.random()*150;
particles.add(x,y,Math.cos(a)*s,Math.sin(a)*s);
}
});

function resize(){
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
}
window.addEventListener("resize",resize);
resize();render();
})(document.getElementById("pinkboard"));
</script>

</body>
</html>

